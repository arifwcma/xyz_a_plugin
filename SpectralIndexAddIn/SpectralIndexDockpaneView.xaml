<UserControl x:Class="SpectralIndexAddIn.SpectralIndexDockpaneView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="300">
    <UserControl.Resources>
        <Style TargetType="TextBlock">
            <Setter Property="Margin" Value="5,2"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        <Style TargetType="ComboBox">
            <Setter Property="Margin" Value="5,2"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        <Style TargetType="Slider">
            <Setter Property="Margin" Value="5,2"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        <Style TargetType="DatePicker">
            <Setter Property="Margin" Value="5,2"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
        <Style TargetType="Button">
            <Setter Property="Margin" Value="5,5"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="MinHeight" Value="30"/>
        </Style>
    </UserControl.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Grid.Row="0" 
                   Text="Spectral Index Layer Manager" 
                   FontWeight="Bold" 
                   FontSize="14" 
                   Margin="5,10,5,10"
                   HorizontalAlignment="Center"/>

        <!-- Spectral Index Selection -->
        <TextBlock Grid.Row="1" Text="Spectral Index:"/>
        <ComboBox Grid.Row="2" 
                  ItemsSource="{Binding AvailableIndices}"
                  SelectedItem="{Binding SelectedIndex, Mode=TwoWay}"/>

        <!-- Cloud Tolerance -->
        <TextBlock Grid.Row="3" Text="Cloud Tolerance:"/>
        <Grid Grid.Row="4">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            <Slider Grid.Column="0" 
                    Minimum="0" 
                    Maximum="100" 
                    TickFrequency="10"
                    IsSnapToTickEnabled="True"
                    Value="{Binding CloudTolerance, Mode=TwoWay}"/>
            <TextBlock Grid.Column="1" 
                       Text="{Binding CloudToleranceLabel}" 
                       MinWidth="50"
                       Margin="5,2"/>
        </Grid>

        <!-- Start Date -->
        <TextBlock Grid.Row="5" Text="Start Date:"/>
        <DatePicker Grid.Row="6" 
                    SelectedDate="{Binding StartDate, Mode=TwoWay}"/>

        <!-- End Date -->
        <TextBlock Grid.Row="7" Text="End Date:"/>
        <DatePicker Grid.Row="8" 
                    SelectedDate="{Binding EndDate, Mode=TwoWay}"/>

        <!-- Buttons -->
        <StackPanel Grid.Row="9" 
                    Orientation="Vertical" 
                    Margin="5,10">
            <Button Content="Add Layer" 
                    Command="{Binding AddLayerCommand}"
                    IsDefault="True"/>
            <Button Content="Update Selected Layer" 
                    Command="{Binding UpdateLayerCommand}"
                    IsEnabled="{Binding CanUpdateLayer}"/>
        </StackPanel>

        <!-- Status Message -->
        <TextBlock Grid.Row="10" 
                   Text="{Binding StatusMessage}" 
                   TextWrapping="Wrap"
                   Foreground="Gray"
                   FontSize="11"
                   Margin="5,5"
                   HorizontalAlignment="Center"/>
    </Grid>
</UserControl>

